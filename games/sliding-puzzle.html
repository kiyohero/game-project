<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‘ã‚ºãƒ«</title>
  <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="ranking.css">
  <script src="common.js" defer></script>
  <script src="firebase-config.js"></script>
  <script src="ranking.js" defer></script>
  <style>
    h1 { font-size: 2rem; margin-bottom: 8px; }

    /* å‹•ç‰©é¸æŠ */
    .animal-select {
      display: flex;
      gap: 6px;
      margin-bottom: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .animal-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 3px solid #d4c8e0;
      background: #fff;
      font-size: 1.4rem;
      cursor: pointer;
      transition: transform 0.15s, border-color 0.15s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .animal-btn:hover { transform: scale(1.1); }
    .animal-btn.active {
      border-color: #7a6b8a;
      background: #e8e0f0;
      transform: scale(1.15);
    }

    /* é›£æ˜“åº¦é¸æŠ */
    .difficulty-select {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }
    .diff-btn {
      background: #d4c8e0;
      color: #6b5b7a;
      border: none;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.15s, transform 0.15s;
    }
    .diff-btn:hover { background: #c4b4d4; }
    .diff-btn.active {
      background: #7a6b8a;
      color: #fff;
    }

    /* ãƒ‘ã‚ºãƒ«ãƒœãƒ¼ãƒ‰ */
    .board-wrapper {
      position: relative;
      margin-bottom: 10px;
    }
    .board {
      display: grid;
      gap: 3px;
      padding: 3px;
      background: #c4b4d4;
      border-radius: 10px;
      transition: gap 0.5s, padding 0.5s;
    }
    .board.completed {
      gap: 0px;
      padding: 0px;
      border-radius: 10px;
      overflow: hidden;
    }

    .tile {
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: rgba(255,255,255,0.8);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      background-size: cover;
      transition: transform 0.15s ease-out, opacity 0.3s;
      position: relative;
    }
    .tile:active { transform: scale(0.95); }
    .board.completed .tile {
      border-radius: 0;
      cursor: default;
    }
    .tile.empty {
      background: transparent !important;
      cursor: default;
    }
    .tile .hint-num {
      position: absolute;
      top: 2px;
      left: 4px;
      font-size: 0.65rem;
      background: rgba(0,0,0,0.35);
      color: #fff;
      border-radius: 3px;
      padding: 0 3px;
      line-height: 1.4;
      display: none;
    }
    .hint-on .tile .hint-num {
      display: block;
    }
    .tile.empty .hint-num { display: none !important; }

    /* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
    .preview-overlay {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      border-radius: 10px;
      overflow: hidden;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s;
      z-index: 10;
    }
    .preview-overlay.show {
      opacity: 1;
    }
    .preview-overlay canvas {
      width: 100%;
      height: 100%;
    }

    /* ã‚¹ã‚³ã‚¢è¡¨ç¤º */
    .score-bar {
      display: flex;
      gap: 20px;
      margin-bottom: 10px;
      font-size: 1rem;
      color: #6b5b7a;
      font-weight: bold;
    }

    /* æ“ä½œãƒœã‚¿ãƒ³ */
    .controls {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .ctrl-btn {
      background: #7a6b8a;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.1s, background 0.15s;
    }
    .ctrl-btn:hover { background: #6b5b7a; }
    .ctrl-btn:active { transform: scale(0.95); }
    .ctrl-btn.toggle-on {
      background: #e8a040;
    }

    /* ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒœã‚¿ãƒ³ */
    .ranking-btn {
      position: fixed;
      bottom: 18px;
      right: 18px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #7a6b8a;
      color: white;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      transition: transform 0.15s;
      z-index: 50;
    }
    .ranking-btn:hover { transform: scale(1.1); }

    /* ã‚¯ãƒªã‚¢æ¼”å‡º */
    .clear-msg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(250, 245, 255, 0.92);
      z-index: 80;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s;
    }
    .clear-msg.show {
      opacity: 1;
      pointer-events: auto;
    }
    .clear-msg h2 {
      font-size: 2.2rem;
      color: #6b5b7a;
      margin-bottom: 10px;
      animation: bounceIn 0.6s ease;
    }
    .clear-msg .stats {
      font-size: 1.1rem;
      color: #9b8ab8;
      margin-bottom: 20px;
    }
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.1); }
      70% { transform: scale(0.95); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* ç´™å¹é›ª */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      z-index: 90;
      pointer-events: none;
      border-radius: 2px;
    }
    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <h1>ğŸ§© ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‘ã‚ºãƒ«</h1>

  <div class="animal-select" id="animalSelect"></div>
  <div class="difficulty-select" id="diffSelect"></div>

  <div class="board-wrapper">
    <div class="board" id="board"></div>
    <div class="preview-overlay" id="previewOverlay">
      <canvas id="previewCanvas"></canvas>
    </div>
  </div>

  <div class="score-bar">
    <span id="moveCount">æ‰‹æ•°: 0</span>
    <span id="timer">â± 00:00</span>
  </div>

  <div class="controls">
    <button class="ctrl-btn" id="shuffleBtn">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
    <button class="ctrl-btn" id="hintBtn">ğŸ”¢ ãƒ’ãƒ³ãƒˆ</button>
    <button class="ctrl-btn" id="previewBtn">ğŸ‘€ ãŠæ‰‹æœ¬</button>
  </div>

  <details class="how-to-play">
    <summary>ã‚ãã³ã‹ãŸ</summary>
    <ul>
      <li>ã‚¿ã‚¤ãƒ«ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ç©ºã„ã¦ã„ã‚‹ãƒã‚¹ã«ã‚¹ãƒ©ã‚¤ãƒ‰ã—ã‚ˆã†</li>
      <li>å…¨éƒ¨ã®ã‚¿ã‚¤ãƒ«ã‚’æ­£ã—ã„å ´æ‰€ã«ä¸¦ã¹ã‚‹ã¨ã€ã‹ã‚ã„ã„å‹•ç‰©ã®çµµãŒå®Œæˆã™ã‚‹ã‚ˆï¼</li>
      <li>ã€Œãƒ’ãƒ³ãƒˆã€ãƒœã‚¿ãƒ³ã§ç•ªå·ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆ</li>
      <li>ã€ŒãŠæ‰‹æœ¬ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã„ã‚‹é–“ã€å®Œæˆã—ãŸçµµãŒè¦‹ã‚‰ã‚Œã‚‹ã‚ˆ</li>
      <li>ã§ãã‚‹ã ã‘å°‘ãªã„æ‰‹æ•°ã§ã‚¯ãƒªã‚¢ã‚’ç›®æŒ‡ãã†ï¼</li>
    </ul>
  </details>

  <div class="clear-msg" id="clearMsg">
    <h2>ğŸ‰ ã‹ã‚“ã›ã„ï¼</h2>
    <div class="stats" id="clearStats"></div>
    <button class="btn" id="clearPlayAgain">ã‚‚ã†ã„ã¡ã©éŠã¶</button>
  </div>

  <button class="ranking-btn" id="rankingBtn">ğŸ†</button>

  <script>
  (function() {
    // ===== å‹•ç‰©ã‚¤ãƒ©ã‚¹ãƒˆå®šç¾© =====
    const ANIMALS = [
      { id: 'cat',     emoji: 'ğŸ±', name: 'ãƒã‚³',     draw: drawCat },
      { id: 'dog',     emoji: 'ğŸ¶', name: 'ã‚¤ãƒŒ',     draw: drawDog },
      { id: 'rabbit',  emoji: 'ğŸ°', name: 'ã‚¦ã‚µã‚®',   draw: drawRabbit },
      { id: 'panda',   emoji: 'ğŸ¼', name: 'ãƒ‘ãƒ³ãƒ€',   draw: drawPanda },
      { id: 'frog',    emoji: 'ğŸ¸', name: 'ã‚«ã‚¨ãƒ«',   draw: drawFrog },
      { id: 'penguin', emoji: 'ğŸ§', name: 'ãƒšãƒ³ã‚®ãƒ³', draw: drawPenguin },
    ];

    const DIFFICULTIES = [
      { size: 3, label: 'ã‹ã‚“ãŸã‚“' },
      { size: 4, label: 'ãµã¤ã†' },
      { size: 5, label: 'ã‚€ãšã‹ã—ã„' },
    ];

    // ===== çŠ¶æ…‹ =====
    let currentAnimal = 0;
    let currentDifficulty = 0;
    let gridSize = 3;
    let tiles = [];        // 1Dé…åˆ—: ã‚¿ã‚¤ãƒ«ç•ªå·(0=ç©ºã)
    let moves = 0;
    let timerInterval = null;
    let seconds = 0;
    let isPlaying = false;
    let hintOn = false;
    let imageDataURL = '';

    // ===== DOM =====
    const boardEl = document.getElementById('board');
    const moveCountEl = document.getElementById('moveCount');
    const timerEl = document.getElementById('timer');
    const shuffleBtn = document.getElementById('shuffleBtn');
    const hintBtn = document.getElementById('hintBtn');
    const previewBtn = document.getElementById('previewBtn');
    const previewOverlay = document.getElementById('previewOverlay');
    const previewCanvas = document.getElementById('previewCanvas');
    const clearMsg = document.getElementById('clearMsg');
    const clearStats = document.getElementById('clearStats');
    const clearPlayAgain = document.getElementById('clearPlayAgain');
    const rankingBtn = document.getElementById('rankingBtn');

    // ===== åˆæœŸåŒ– =====
    function init() {
      buildAnimalButtons();
      buildDiffButtons();
      setupEvents();
      newGame();
    }

    function buildAnimalButtons() {
      const container = document.getElementById('animalSelect');
      ANIMALS.forEach((a, i) => {
        const btn = document.createElement('button');
        btn.className = 'animal-btn' + (i === 0 ? ' active' : '');
        btn.textContent = a.emoji;
        btn.title = a.name;
        btn.addEventListener('click', () => {
          currentAnimal = i;
          container.querySelectorAll('.animal-btn').forEach((b, j) => {
            b.classList.toggle('active', j === i);
          });
          newGame();
        });
        container.appendChild(btn);
      });
    }

    function buildDiffButtons() {
      const container = document.getElementById('diffSelect');
      DIFFICULTIES.forEach((d, i) => {
        const btn = document.createElement('button');
        btn.className = 'diff-btn' + (i === 0 ? ' active' : '');
        btn.textContent = d.label;
        btn.addEventListener('click', () => {
          currentDifficulty = i;
          gridSize = d.size;
          container.querySelectorAll('.diff-btn').forEach((b, j) => {
            b.classList.toggle('active', j === i);
          });
          newGame();
        });
        container.appendChild(btn);
      });
    }

    function setupEvents() {
      shuffleBtn.addEventListener('click', () => newGame());
      hintBtn.addEventListener('click', () => {
        hintOn = !hintOn;
        hintBtn.classList.toggle('toggle-on', hintOn);
        boardEl.classList.toggle('hint-on', hintOn);
      });

      // ãŠæ‰‹æœ¬: æŠ¼ã—ã¦ã„ã‚‹é–“ã ã‘è¡¨ç¤º
      const showPreview = () => { previewOverlay.classList.add('show'); };
      const hidePreview = () => { previewOverlay.classList.remove('show'); };
      previewBtn.addEventListener('mousedown', showPreview);
      previewBtn.addEventListener('mouseup', hidePreview);
      previewBtn.addEventListener('mouseleave', hidePreview);
      previewBtn.addEventListener('touchstart', (e) => { e.preventDefault(); showPreview(); });
      previewBtn.addEventListener('touchend', hidePreview);
      previewBtn.addEventListener('touchcancel', hidePreview);

      clearPlayAgain.addEventListener('click', () => {
        clearMsg.classList.remove('show');
        newGame();
      });

      rankingBtn.addEventListener('click', () => {
        if (typeof Ranking !== 'undefined') {
          Ranking.showRankingModal(getRankingId());
        }
      });
    }

    function getRankingId() {
      return 'sliding-puzzle-' + gridSize + 'x' + gridSize;
    }

    // ===== ã‚²ãƒ¼ãƒ é–‹å§‹ =====
    function newGame() {
      stopTimer();
      moves = 0;
      seconds = 0;
      isPlaying = false;
      updateScoreDisplay();
      clearMsg.classList.remove('show');
      boardEl.classList.remove('completed');

      // ã‚¤ãƒ©ã‚¹ãƒˆç”Ÿæˆ
      generateImage();

      // ã‚¿ã‚¤ãƒ«åˆæœŸåŒ–ï¼ˆå®ŒæˆçŠ¶æ…‹ï¼‰
      const total = gridSize * gridSize;
      tiles = [];
      for (let i = 1; i < total; i++) tiles.push(i);
      tiles.push(0); // æœ€å¾ŒãŒç©ºã

      // ã‚·ãƒ£ãƒƒãƒ•ãƒ«
      shuffle();

      // æç”»
      renderBoard();
    }

    function generateImage() {
      const size = 400;
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');

      // èƒŒæ™¯
      ctx.fillStyle = '#faf5ff';
      ctx.fillRect(0, 0, size, size);

      // å‹•ç‰©ã‚’æç”»
      ANIMALS[currentAnimal].draw(ctx, size);

      imageDataURL = canvas.toDataURL();

      // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨
      previewCanvas.width = size;
      previewCanvas.height = size;
      const pctx = previewCanvas.getContext('2d');
      pctx.drawImage(canvas, 0, 0);
    }

    // ===== ã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼ˆå®Ÿéš›ã«ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ç¹°ã‚Šè¿”ã™ï¼‰ =====
    function shuffle() {
      const total = gridSize * gridSize;
      const shuffleMoves = gridSize * gridSize * 20;
      let emptyIdx = tiles.indexOf(0);
      let lastMove = -1;

      for (let i = 0; i < shuffleMoves; i++) {
        const neighbors = getNeighbors(emptyIdx);
        // ç›´å‰ã«æˆ»ã‚‹å‹•ãã‚’é¿ã‘ã‚‹
        const filtered = neighbors.filter(n => n !== lastMove);
        const pick = filtered[Math.floor(Math.random() * filtered.length)];
        lastMove = emptyIdx;
        tiles[emptyIdx] = tiles[pick];
        tiles[pick] = 0;
        emptyIdx = pick;
      }
    }

    function getNeighbors(idx) {
      const row = Math.floor(idx / gridSize);
      const col = idx % gridSize;
      const result = [];
      if (row > 0) result.push(idx - gridSize);
      if (row < gridSize - 1) result.push(idx + gridSize);
      if (col > 0) result.push(idx - 1);
      if (col < gridSize - 1) result.push(idx + 1);
      return result;
    }

    // ===== æç”» =====
    function renderBoard() {
      const boardSize = Math.min(340, window.innerWidth - 40);
      const tileSize = Math.floor((boardSize - (gridSize + 1) * 3) / gridSize);
      const actualSize = tileSize * gridSize + (gridSize + 1) * 3;

      boardEl.style.gridTemplateColumns = `repeat(${gridSize}, ${tileSize}px)`;
      boardEl.style.width = actualSize + 'px';
      boardEl.innerHTML = '';

      tiles.forEach((num, idx) => {
        const tile = document.createElement('div');
        tile.className = 'tile' + (num === 0 ? ' empty' : '');
        tile.style.width = tileSize + 'px';
        tile.style.height = tileSize + 'px';

        if (num !== 0) {
          // å…ƒã®ä½ç½®ã‹ã‚‰èƒŒæ™¯ä½ç½®ã‚’è¨ˆç®—
          const origRow = Math.floor((num - 1) / gridSize);
          const origCol = (num - 1) % gridSize;
          tile.style.backgroundImage = `url(${imageDataURL})`;
          tile.style.backgroundSize = `${tileSize * gridSize}px ${tileSize * gridSize}px`;
          tile.style.backgroundPosition = `-${origCol * tileSize}px -${origRow * tileSize}px`;

          // ãƒ’ãƒ³ãƒˆç•ªå·
          const hint = document.createElement('span');
          hint.className = 'hint-num';
          hint.textContent = num;
          tile.appendChild(hint);

          tile.addEventListener('click', () => onTileClick(idx));
        }

        boardEl.appendChild(tile);
      });

      boardEl.classList.toggle('hint-on', hintOn);
    }

    // ===== ã‚¿ã‚¤ãƒ«ã‚¯ãƒªãƒƒã‚¯ =====
    function onTileClick(idx) {
      if (boardEl.classList.contains('completed')) return;

      const emptyIdx = tiles.indexOf(0);
      const neighbors = getNeighbors(emptyIdx);

      if (!neighbors.includes(idx)) return;

      // ã‚¹ãƒ¯ãƒƒãƒ—
      tiles[emptyIdx] = tiles[idx];
      tiles[idx] = 0;
      moves++;

      // åˆå›ã‚¯ãƒªãƒƒã‚¯ã§ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
      if (!isPlaying) {
        isPlaying = true;
        startTimer();
      }

      updateScoreDisplay();
      renderBoard();

      // ã‚¯ãƒªã‚¢åˆ¤å®š
      if (checkWin()) {
        onClear();
      }
    }

    function checkWin() {
      const total = gridSize * gridSize;
      for (let i = 0; i < total - 1; i++) {
        if (tiles[i] !== i + 1) return false;
      }
      return tiles[total - 1] === 0;
    }

    // ===== ã‚¯ãƒªã‚¢ =====
    function onClear() {
      stopTimer();
      isPlaying = false;

      // ãƒœãƒ¼ãƒ‰å®Œæˆæ¼”å‡ºï¼ˆæ ç·šæ¶ˆã™ï¼‰
      boardEl.classList.add('completed');

      // å°‘ã—å¾…ã£ã¦ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
      setTimeout(() => {
        clearStats.textContent = `${moves}æ‰‹ ï¼ ${formatTime(seconds)}`;
        clearMsg.classList.add('show');
        spawnConfetti();

        // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç™»éŒ²
        if (typeof Ranking !== 'undefined') {
          setTimeout(() => {
            // æ‰‹æ•°ãŒå°‘ãªã„ã»ã†ãŒè‰¯ã„ã®ã§ã€ã‚¹ã‚³ã‚¢ã¯é€†è»¢ã•ã›ã‚‹ï¼ˆå¤§ãã„ã»ã©ä¸Šä½ï¼‰
            // æœ€å¤§æ‰‹æ•°ã‚’ååˆ†å¤§ããè¨­å®šã—ã¦å¼•ã
            const maxScore = 99999;
            const score = maxScore - moves;
            Ranking.showSubmitModal(getRankingId(), score, () => {});
          }, 1500);
        }
      }, 800);
    }

    // ===== ã‚¿ã‚¤ãƒãƒ¼ =====
    function startTimer() {
      stopTimer();
      timerInterval = setInterval(() => {
        seconds++;
        timerEl.textContent = 'â± ' + formatTime(seconds);
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    function formatTime(s) {
      const m = Math.floor(s / 60);
      const sec = s % 60;
      return String(m).padStart(2, '0') + ':' + String(sec).padStart(2, '0');
    }

    function updateScoreDisplay() {
      moveCountEl.textContent = 'æ‰‹æ•°: ' + moves;
      timerEl.textContent = 'â± ' + formatTime(seconds);
    }

    // ===== ç´™å¹é›ª =====
    function spawnConfetti() {
      const colors = ['#ff6b6b', '#ffd93d', '#6bcb77', '#4d96ff', '#ff6bd6', '#a66cff'];
      for (let i = 0; i < 50; i++) {
        const el = document.createElement('div');
        el.className = 'confetti';
        el.style.left = Math.random() * 100 + 'vw';
        el.style.top = '-10px';
        el.style.background = colors[Math.floor(Math.random() * colors.length)];
        el.style.width = (6 + Math.random() * 8) + 'px';
        el.style.height = (6 + Math.random() * 8) + 'px';
        el.style.animation = `confettiFall ${1.5 + Math.random() * 2}s ease-out forwards`;
        el.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 4000);
      }
    }

    // ==========================================
    //  å‹•ç‰©ã‚¤ãƒ©ã‚¹ãƒˆæç”»é–¢æ•°
    // ==========================================

    function drawCat(ctx, s) {
      const cx = s / 2, cy = s / 2;

      // ä½“
      ctx.fillStyle = '#ffb347';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.12, s * 0.28, s * 0.3, 0, 0, Math.PI * 2);
      ctx.fill();

      // è€³ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#ffb347';
      ctx.beginPath();
      ctx.moveTo(cx - s * 0.22, cy - s * 0.18);
      ctx.lineTo(cx - s * 0.12, cy - s * 0.38);
      ctx.lineTo(cx - s * 0.02, cy - s * 0.18);
      ctx.fill();
      // è€³ã®ä¸­ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#ffcccb';
      ctx.beginPath();
      ctx.moveTo(cx - s * 0.19, cy - s * 0.18);
      ctx.lineTo(cx - s * 0.12, cy - s * 0.32);
      ctx.lineTo(cx - s * 0.05, cy - s * 0.18);
      ctx.fill();

      // è€³ï¼ˆå³ï¼‰
      ctx.fillStyle = '#ffb347';
      ctx.beginPath();
      ctx.moveTo(cx + s * 0.02, cy - s * 0.18);
      ctx.lineTo(cx + s * 0.12, cy - s * 0.38);
      ctx.lineTo(cx + s * 0.22, cy - s * 0.18);
      ctx.fill();
      ctx.fillStyle = '#ffcccb';
      ctx.beginPath();
      ctx.moveTo(cx + s * 0.05, cy - s * 0.18);
      ctx.lineTo(cx + s * 0.12, cy - s * 0.32);
      ctx.lineTo(cx + s * 0.19, cy - s * 0.18);
      ctx.fill();

      // é¡”
      ctx.fillStyle = '#ffcc80';
      ctx.beginPath();
      ctx.arc(cx, cy - s * 0.02, s * 0.22, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.08, cy - s * 0.06, s * 0.035, s * 0.045, 0, 0, Math.PI * 2);
      ctx.fill();
      // ç›®ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.07, cy - s * 0.075, s * 0.012, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå³ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.08, cy - s * 0.06, s * 0.035, s * 0.045, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.09, cy - s * 0.075, s * 0.012, 0, Math.PI * 2);
      ctx.fill();

      // é¼»
      ctx.fillStyle = '#ff8a80';
      ctx.beginPath();
      ctx.moveTo(cx, cy + s * 0.01);
      ctx.lineTo(cx - s * 0.025, cy + s * 0.035);
      ctx.lineTo(cx + s * 0.025, cy + s * 0.035);
      ctx.fill();

      // å£
      ctx.strokeStyle = '#a0522d';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(cx, cy + s * 0.035);
      ctx.lineTo(cx - s * 0.04, cy + s * 0.07);
      ctx.moveTo(cx, cy + s * 0.035);
      ctx.lineTo(cx + s * 0.04, cy + s * 0.07);
      ctx.stroke();

      // ã²ã’ï¼ˆå·¦ï¼‰
      ctx.strokeStyle = '#888';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx - s * 0.1, cy + s * 0.01);
      ctx.lineTo(cx - s * 0.25, cy - s * 0.01);
      ctx.moveTo(cx - s * 0.1, cy + s * 0.035);
      ctx.lineTo(cx - s * 0.25, cy + s * 0.04);
      ctx.moveTo(cx - s * 0.1, cy + s * 0.06);
      ctx.lineTo(cx - s * 0.25, cy + s * 0.08);
      ctx.stroke();

      // ã²ã’ï¼ˆå³ï¼‰
      ctx.beginPath();
      ctx.moveTo(cx + s * 0.1, cy + s * 0.01);
      ctx.lineTo(cx + s * 0.25, cy - s * 0.01);
      ctx.moveTo(cx + s * 0.1, cy + s * 0.035);
      ctx.lineTo(cx + s * 0.25, cy + s * 0.04);
      ctx.moveTo(cx + s * 0.1, cy + s * 0.06);
      ctx.lineTo(cx + s * 0.25, cy + s * 0.08);
      ctx.stroke();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 150, 150, 0.35)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.15, cy + s * 0.04, s * 0.04, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.15, cy + s * 0.04, s * 0.04, 0, Math.PI * 2);
      ctx.fill();

      // ã—ã£ã½
      ctx.strokeStyle = '#ffb347';
      ctx.lineWidth = s * 0.03;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(cx + s * 0.2, cy + s * 0.3);
      ctx.quadraticCurveTo(cx + s * 0.38, cy + s * 0.15, cx + s * 0.3, cy + s * 0.0);
      ctx.stroke();
    }

    function drawDog(ctx, s) {
      const cx = s / 2, cy = s / 2;

      // ä½“
      ctx.fillStyle = '#d4a574';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.12, s * 0.26, s * 0.28, 0, 0, Math.PI * 2);
      ctx.fill();

      // ãŸã‚Œè€³ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#b08050';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.22, cy - s * 0.02, s * 0.08, s * 0.18, -0.2, 0, Math.PI * 2);
      ctx.fill();

      // ãŸã‚Œè€³ï¼ˆå³ï¼‰
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.22, cy - s * 0.02, s * 0.08, s * 0.18, 0.2, 0, Math.PI * 2);
      ctx.fill();

      // é¡”
      ctx.fillStyle = '#ddb892';
      ctx.beginPath();
      ctx.arc(cx, cy - s * 0.02, s * 0.2, 0, Math.PI * 2);
      ctx.fill();

      // å£å‘¨ã‚Šï¼ˆç™½ã„éƒ¨åˆ†ï¼‰
      ctx.fillStyle = '#f5e6d3';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.06, s * 0.12, s * 0.1, 0, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx - s * 0.07, cy - s * 0.06, s * 0.03, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.06, cy - s * 0.07, s * 0.01, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå³ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx + s * 0.07, cy - s * 0.06, s * 0.03, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.08, cy - s * 0.07, s * 0.01, 0, Math.PI * 2);
      ctx.fill();

      // é¼»
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.02, s * 0.035, s * 0.025, 0, 0, Math.PI * 2);
      ctx.fill();

      // èˆŒãƒšãƒ­
      ctx.fillStyle = '#ff8a9a';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.1, s * 0.03, s * 0.045, 0, 0, Math.PI * 2);
      ctx.fill();

      // å£
      ctx.strokeStyle = '#8b6f47';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy + s * 0.035);
      ctx.lineTo(cx - s * 0.03, cy + s * 0.06);
      ctx.moveTo(cx, cy + s * 0.035);
      ctx.lineTo(cx + s * 0.03, cy + s * 0.06);
      ctx.stroke();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 150, 150, 0.3)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.14, cy + s * 0.03, s * 0.035, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.14, cy + s * 0.03, s * 0.035, 0, Math.PI * 2);
      ctx.fill();

      // ã—ã£ã½
      ctx.strokeStyle = '#d4a574';
      ctx.lineWidth = s * 0.035;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(cx + s * 0.18, cy + s * 0.28);
      ctx.quadraticCurveTo(cx + s * 0.35, cy + s * 0.1, cx + s * 0.28, cy - s * 0.02);
      ctx.stroke();
    }

    function drawRabbit(ctx, s) {
      const cx = s / 2, cy = s / 2 + s * 0.05;

      // ä½“
      ctx.fillStyle = '#fff5f5';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.08, s * 0.24, s * 0.26, 0, 0, Math.PI * 2);
      ctx.fill();

      // è€³ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#fff5f5';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.1, cy - s * 0.32, s * 0.06, s * 0.18, -0.15, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#ffb6c1';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.1, cy - s * 0.3, s * 0.03, s * 0.12, -0.15, 0, Math.PI * 2);
      ctx.fill();

      // è€³ï¼ˆå³ï¼‰
      ctx.fillStyle = '#fff5f5';
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.1, cy - s * 0.32, s * 0.06, s * 0.18, 0.15, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#ffb6c1';
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.1, cy - s * 0.3, s * 0.03, s * 0.12, 0.15, 0, Math.PI * 2);
      ctx.fill();

      // é¡”
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx, cy - s * 0.04, s * 0.19, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#e74c6f';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.07, cy - s * 0.07, s * 0.025, s * 0.035, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.06, cy - s * 0.08, s * 0.01, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå³ï¼‰
      ctx.fillStyle = '#e74c6f';
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.07, cy - s * 0.07, s * 0.025, s * 0.035, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.08, cy - s * 0.08, s * 0.01, 0, Math.PI * 2);
      ctx.fill();

      // é¼»
      ctx.fillStyle = '#ff8a9a';
      ctx.beginPath();
      ctx.arc(cx, cy + s * 0.0, s * 0.02, 0, Math.PI * 2);
      ctx.fill();

      // å£
      ctx.strokeStyle = '#d4838f';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy + s * 0.02);
      ctx.lineTo(cx - s * 0.025, cy + s * 0.045);
      ctx.moveTo(cx, cy + s * 0.02);
      ctx.lineTo(cx + s * 0.025, cy + s * 0.045);
      ctx.stroke();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 130, 150, 0.4)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.13, cy + s * 0.0, s * 0.04, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.13, cy + s * 0.0, s * 0.04, 0, Math.PI * 2);
      ctx.fill();
    }

    function drawPanda(ctx, s) {
      const cx = s / 2, cy = s / 2;

      // ä½“
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.1, s * 0.26, s * 0.28, 0, 0, Math.PI * 2);
      ctx.fill();

      // è€³ï¼ˆå·¦ãƒ»é»’ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx - s * 0.17, cy - s * 0.2, s * 0.08, 0, Math.PI * 2);
      ctx.fill();

      // è€³ï¼ˆå³ãƒ»é»’ï¼‰
      ctx.beginPath();
      ctx.arc(cx + s * 0.17, cy - s * 0.2, s * 0.08, 0, Math.PI * 2);
      ctx.fill();

      // é¡”ï¼ˆç™½ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx, cy - s * 0.02, s * 0.21, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ã®å‘¨ã‚Šï¼ˆé»’ãƒ‘ãƒƒãƒãƒ»å·¦ï¼‰
      ctx.fillStyle = '#333';
      ctx.save();
      ctx.translate(cx - s * 0.08, cy - s * 0.06);
      ctx.rotate(-0.3);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.055, s * 0.07, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();

      // ç›®ã®å‘¨ã‚Šï¼ˆé»’ãƒ‘ãƒƒãƒãƒ»å³ï¼‰
      ctx.save();
      ctx.translate(cx + s * 0.08, cy - s * 0.06);
      ctx.rotate(0.3);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.055, s * 0.07, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();

      // ç›®ï¼ˆç™½ãƒ»å·¦ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.08, cy - s * 0.06, s * 0.025, 0, Math.PI * 2);
      ctx.fill();
      // ç›®ï¼ˆé»’ãƒ»å·¦ï¼‰
      ctx.fillStyle = '#111';
      ctx.beginPath();
      ctx.arc(cx - s * 0.08, cy - s * 0.055, s * 0.015, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆç™½ãƒ»å³ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.08, cy - s * 0.06, s * 0.025, 0, Math.PI * 2);
      ctx.fill();
      // ç›®ï¼ˆé»’ãƒ»å³ï¼‰
      ctx.fillStyle = '#111';
      ctx.beginPath();
      ctx.arc(cx + s * 0.08, cy - s * 0.055, s * 0.015, 0, Math.PI * 2);
      ctx.fill();

      // é¼»
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.03, s * 0.03, s * 0.02, 0, 0, Math.PI * 2);
      ctx.fill();

      // å£
      ctx.strokeStyle = '#333';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy + s * 0.045);
      ctx.lineTo(cx - s * 0.025, cy + s * 0.07);
      ctx.moveTo(cx, cy + s * 0.045);
      ctx.lineTo(cx + s * 0.025, cy + s * 0.07);
      ctx.stroke();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 150, 150, 0.3)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.14, cy + s * 0.04, s * 0.035, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.14, cy + s * 0.04, s * 0.035, 0, Math.PI * 2);
      ctx.fill();

      // ç¬¹ã®è‘‰
      ctx.fillStyle = '#66bb6a';
      ctx.save();
      ctx.translate(cx + s * 0.28, cy - s * 0.05);
      ctx.rotate(0.5);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.02, s * 0.08, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.translate(s * 0.02, -s * 0.06);
      ctx.rotate(-0.6);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.015, s * 0.06, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();
    }

    function drawFrog(ctx, s) {
      const cx = s / 2, cy = s / 2 + s * 0.02;

      // ä½“
      ctx.fillStyle = '#66bb6a';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.08, s * 0.26, s * 0.26, 0, 0, Math.PI * 2);
      ctx.fill();

      // ãŠè…¹
      ctx.fillStyle = '#c8e6c9';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.12, s * 0.16, s * 0.17, 0, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ã®çªèµ·ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#66bb6a';
      ctx.beginPath();
      ctx.arc(cx - s * 0.1, cy - s * 0.17, s * 0.09, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ã®çªèµ·ï¼ˆå³ï¼‰
      ctx.beginPath();
      ctx.arc(cx + s * 0.1, cy - s * 0.17, s * 0.09, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆç™½ãƒ»å·¦ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.1, cy - s * 0.17, s * 0.065, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆé»’ãƒ»å·¦ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx - s * 0.1, cy - s * 0.16, s * 0.035, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.09, cy - s * 0.175, s * 0.012, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆç™½ãƒ»å³ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.1, cy - s * 0.17, s * 0.065, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆé»’ãƒ»å³ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx + s * 0.1, cy - s * 0.16, s * 0.035, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.11, cy - s * 0.175, s * 0.012, 0, Math.PI * 2);
      ctx.fill();

      // ã«ã£ã“ã‚Šå£
      ctx.strokeStyle = '#388e3c';
      ctx.lineWidth = 2.5;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.arc(cx, cy + s * 0.02, s * 0.1, 0.15, Math.PI - 0.15);
      ctx.stroke();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 150, 130, 0.35)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.17, cy + s * 0.0, s * 0.04, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.17, cy + s * 0.0, s * 0.04, 0, Math.PI * 2);
      ctx.fill();
    }

    function drawPenguin(ctx, s) {
      const cx = s / 2, cy = s / 2 + s * 0.02;

      // ä½“ï¼ˆé»’ï¼‰
      ctx.fillStyle = '#37474f';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.05, s * 0.24, s * 0.3, 0, 0, Math.PI * 2);
      ctx.fill();

      // ãŠè…¹ï¼ˆç™½ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.ellipse(cx, cy + s * 0.08, s * 0.16, s * 0.22, 0, 0, Math.PI * 2);
      ctx.fill();

      // é¡”
      ctx.fillStyle = '#37474f';
      ctx.beginPath();
      ctx.arc(cx, cy - s * 0.1, s * 0.17, 0, Math.PI * 2);
      ctx.fill();

      // é¡”ï¼ˆç™½ã„éƒ¨åˆ†ï¼‰
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.ellipse(cx, cy - s * 0.06, s * 0.13, s * 0.1, 0, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx - s * 0.06, cy - s * 0.08, s * 0.022, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx - s * 0.055, cy - s * 0.09, s * 0.008, 0, Math.PI * 2);
      ctx.fill();

      // ç›®ï¼ˆå³ï¼‰
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(cx + s * 0.06, cy - s * 0.08, s * 0.022, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(cx + s * 0.065, cy - s * 0.09, s * 0.008, 0, Math.PI * 2);
      ctx.fill();

      // ãã¡ã°ã—
      ctx.fillStyle = '#ff9800';
      ctx.beginPath();
      ctx.moveTo(cx, cy - s * 0.04);
      ctx.lineTo(cx - s * 0.035, cy - s * 0.01);
      ctx.lineTo(cx + s * 0.035, cy - s * 0.01);
      ctx.fill();

      // ã»ã£ãº
      ctx.fillStyle = 'rgba(255, 130, 130, 0.4)';
      ctx.beginPath();
      ctx.arc(cx - s * 0.1, cy - s * 0.04, s * 0.03, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cx + s * 0.1, cy - s * 0.04, s * 0.03, 0, Math.PI * 2);
      ctx.fill();

      // æ‰‹ç¾½ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#37474f';
      ctx.save();
      ctx.translate(cx - s * 0.22, cy + s * 0.02);
      ctx.rotate(-0.2);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.05, s * 0.14, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();

      // æ‰‹ç¾½ï¼ˆå³ï¼‰
      ctx.save();
      ctx.translate(cx + s * 0.22, cy + s * 0.02);
      ctx.rotate(0.2);
      ctx.beginPath();
      ctx.ellipse(0, 0, s * 0.05, s * 0.14, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();

      // è¶³ï¼ˆå·¦ï¼‰
      ctx.fillStyle = '#ff9800';
      ctx.beginPath();
      ctx.ellipse(cx - s * 0.08, cy + s * 0.32, s * 0.06, s * 0.025, -0.2, 0, Math.PI * 2);
      ctx.fill();

      // è¶³ï¼ˆå³ï¼‰
      ctx.beginPath();
      ctx.ellipse(cx + s * 0.08, cy + s * 0.32, s * 0.06, s * 0.025, 0.2, 0, Math.PI * 2);
      ctx.fill();
    }

    // ===== èµ·å‹• =====
    init();
  })();
  </script>
</body>
</html>
